"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),e=function(){return(e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var u in e=arguments[n])Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u]);return t}).apply(this,arguments)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function n(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),u=0;for(e=0;e<n;e++)for(var a=arguments[e],i=0,o=a.length;i<o;i++,u++)r[u]=a[i];return r}var r,u,a={meta:["charset","name","property","http-equiv"],link:["rel","sizes","hreflang"]},i=function(t){return function(e){var n=a[t].concat("id").map((function(t){return e.hasOwnProperty(t)?{key:t,value:e[t]}:void 0})).filter(Boolean),r=Object.keys(e).map((function(t){return{key:t,value:e[t]}}));return{tag:t,query:n.length?n:r,attributes:e}}},o=i("meta"),c=i("link"),f=new Set,l=new Set,s=function(t){return Array.from(t).map((function(t){return t.current})).reduce((function(t,n){var r,u;return{title:null!==(r=n.title)&&void 0!==r?r:t.title,lang:null!==(u=n.lang)&&void 0!==u?u:t.lang,tags:e(e({},t.tags),n.tags)}}),{tags:{}})},d=function(t){l.forEach((function(e){return e(t)}))},p=function(t){return Object.keys(t.tags||{}).map((function(e){return t.tags[e]}))},g=function(t,e){var n=e.reduce((function(t,e){var n=e.key,r=e.value;return t+"["+n+(r?'="'+r+'"':"")+"]"}),"");return document.head.querySelector(t+n)},v=function(t){var e,n,r=t.tag,u=t.query,a=t.attributes,i=g(r,u)||(e=r,n=document.createElement(e),document.head.appendChild(n),n);a&&Object.keys(a).forEach((function(t){i.setAttribute(t,a[t]||"")}))},m=function(t){var e=t.tag,n=t.query,r=g(e,n);r&&document.head.removeChild(r)},y={tags:{}},h=function(t,e){"undefined"!=typeof window&&(window.clearTimeout(r),r=setTimeout((function(){var e,n,r=function(t,e){return Object.keys(e.tags||{}).filter((function(e){return!t.tags[e]})).map((function(t){return e.tags[t]}))}(t,y),u=p(t);y=t,t.title&&(e=t.title,document.title=e),t.lang&&(n=t.lang,document.documentElement.lang=n),u.forEach(v),r.forEach(m)}),e))};u=function(t){return h(t,50)},l.add(u);exports.default=function(r,u){var a=t.useRef(),i=t.useMemo((function(){return function(t){var r=t.title,u=t.description,a=t.lang,i=t.charset,f=t.metas,l=void 0===f?[]:f,s=t.links,d=void 0===s?[]:s,p=t.openGraph,g=void 0===p?{}:p,v=t.twitter,m=void 0===v?{}:v;return{title:r,lang:a,tags:n([!!u&&{tag:"meta",query:[{key:"name",value:"description"}],attributes:{name:"description",content:u}},!!i&&{tag:"meta",query:[{key:"charset"}],attributes:{charset:i}}],l.map(o),d.map(c),Object.keys(g).map((function(t){return o({property:"og:"+t,content:g[t]})})),Object.keys(m).map((function(t){return o({property:"twitter:"+t,content:m[t]})}))).filter((function(t){return t&&t.query&&Object.keys(t.query).length})).reduce((function(t,n){var r,u=n.query.map((function(t){var e=t.key,n=void 0===e?"":e,r=t.value;return n+"="+(void 0===r?"":r)})).join("~"),a=n.tag+"_"+u;return e(e({},t),((r={})[a]=n,r))}),{})}}(r)}),u);t.useEffect((function(){return function(){a.current&&function(t){f.delete(t),d(s(f))}(a)}}),[]),a.current!==i&&(a.current=i,a.current&&function(t){!f.has(t)&&f.add(t),d(s(f))}(a))},exports.generateStaticHtml=function(){return function(t){return n([t.title?"<title>"+t.title+"</title>":""],p(t).map((function(t){var e=t.attributes;return"<"+t.tag+" "+Object.keys(e).map((function(t){return""+t+(e[t]?'="'+(e[t]||"")+'"':"")})).join(" ")+" />"}))).join("")}(s(f))},exports.resetMetaTags=function(){f.clear(),d(s(f))};
//# sourceMappingURL=index.cjs.js.map
